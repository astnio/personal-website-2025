---
const nameFieldID = 'namey4j6o';
const emailFieldID = 'email82dtn';
const messageFieldID = 'messageln7qk';
---

<style>
  dialog.contact-dialog-wrapper {
    z-index: 900;

    border: none;

    min-width: min-content;
    width: 100%;
    max-width: 50rem;

    padding: 1rem;

    background-color: transparent;
  }

  .contact-dialog-content {
    background-color: var(--clr-base);

    border: none;
    border-radius: var(--radius-surface);
    outline: 1px solid var(--clr-surface-0);

    padding: 1rem;
  }

  dialog::backdrop {
    background: var(--clr-crust);
    opacity: 0.9;
  }

  dialog.dialog-fade-in {
    animation: dialogFadeIn 0.5s ease-in-out;
  }

  dialog.backdrop-fade-in::backdrop {
    animation: backdropFadeIn 0.5s ease-in-out;
  }

  dialog.dialog-fade-out {
    animation: dialogFadeOut 0.5s ease-in-out;
  }

  dialog.backdrop-fade-out::backdrop {
    animation: backdropFadeOut 0.5s ease-in-out;
  }

  @keyframes dialogFadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes backdropFadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 0.9;
    }
  }

  @keyframes dialogFadeOut {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }

  @keyframes backdropFadeOut {
    from {
      opacity: 0.9;
    }
    to {
      opacity: 0;
    }
  }

  /*** Contact Form ***/
  input,
  textarea {
    background-color: var(--clr-mantle);
    color: var(--clr-text);
  }

  textarea {
    resize: none;
    font-family: inherit;
  }

  input::placeholder,
  textarea::placeholder {
    color: var(--clr-subtext-0);
  }

  .form-paragraph {
    margin-bottom: 2rem;
  }

  .contact-container {
    border-radius: var(--radius-surface);
    color: var(--clr-text);
  }

  .contact-form {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .form-group {
    display: flex;
    flex-direction: column;
    gap: 0.4rem;
  }

  .form-group label {
    font-weight: 500;
    color: var(--clr-subtext-0);
    font-size: 0.8rem;
  }

  .form-group input,
  .form-group textarea {
    padding-inline: 0.4rem;
    padding-block: 0.6rem;

    border: none;
    outline: 1px solid var(--clr-surface-0);
    border-radius: var(--radius-input);

    font-size: 1rem;

    transition: outline 0.2s;
  }

  .form-group input:focus,
  .form-group textarea:focus {
    border: none;
    outline: 1px solid var(--clr-surface-1);
  }

  .submit-btn {
    background: var(--clr-primary);

    padding: 12px 24px;

    border: none;
    border-radius: 6px;

    font-size: 1rem;
    font-weight: 700;
    color: var(--clr-base);

    cursor: pointer;
    transition: background-color 0.2s;
  }

  .submit-btn:hover {
    background: var(--clr-primary);
  }

  @media (min-width: 768px) {
    .contact-form {
      display: grid;
      grid-template-columns: 1fr 1fr;
    }

    .name-group {
      grid-column-start: 1;
    }

    .email-group {
      grid-column-start: 2;
    }

    .subject-group {
      grid-column: span 2;
    }

    .message-group {
      grid-column: span 2;
    }

    .submit-btn {
      grid-column: span 2;
      max-width: fit-content;
      align-self: center;
      justify-self: end;
    }
  }
</style>

<dialog
  class='contact-dialog-wrapper'
  id='contact-dialog'>
  <div class='contact-dialog-content'>
    <p class='form-paragraph'>
      <span>Questions, comments, or just want to say hi?</span>
      <br />
      <span>Just enter the info below and you can send me a message!</span>
    </p>

    <div class='contact-container'>
      <form
        class='contact-form'
        id='contact-form'
        action='https://submit-form.com/hoXOeL5yJ'
        target='_blank'>
        <label
          class='somehoney visually-hidden'
          for='name'
        ></label>
        <input
          class='somehoney visually-hidden'
          autocomplete='off'
          type='text'
          id='name'
          name='name'
          placeholder='Your name here'
          tabindex='-1'
        />

        <input
          type='hidden'
          name='_redirect'
          value='https://astn.io/contact-thanks'
        />
        <div class='form-group name-group'>
          <label for={nameFieldID}>Name</label>
          <input
            type='text'
            id={nameFieldID}
            name={nameFieldID}
            required
          />
        </div>

        <div class='form-group email-group'>
          <label for={emailFieldID}>Email</label>
          <input
            type='email'
            id={emailFieldID}
            name={emailFieldID}
            required
          />
        </div>

        <div class='form-group message-group'>
          <label for={messageFieldID}>Message</label>
          <textarea
            id={messageFieldID}
            name={messageFieldID}
            rows='5'
            required
          ></textarea>
        </div>

        <button
          type='submit'
          class='submit-btn'
          >Send Message</button
        >
      </form>
    </div>
  </div>
</dialog>
