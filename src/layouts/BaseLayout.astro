---
import '../styles/global/fonts.css';
import '../styles/global/global.css';
import '../styles/global/variables.css';
import '../styles/utils/boxicons.min.css';

import NavDrawer from '../components/NavDrawer.astro';
import CustomizationMenuOverlay from '../components/CustomizationMenuOverlay.astro';
import ContactDialog from '../components/ContactDialog.astro';
import NavDrawerOverlay from '../components/NavDrawerOverlay.astro';
import AppBar from '@components/common/AppBar.astro';
import CommonHead from '@components/common/CommonHead.astro';
import Footer from '@components/common/Footer.astro';
import Breadcrumb from '@components/common/Breadcrumb.astro';
import Logo from '@/components/common/Logo.astro';
import SearchInput from '@/components/interface/SearchInput.astro';
import NavDrawerToggle from '@/components/NavDrawerToggle.astro';

const { title, description } = Astro.props;
---

<style>
  main {
    margin-top: 8rem;
  }

  div.search-input-wrapper {
    position: fixed;
    right: 0;
    top: 0;

    z-index: 2;

    width: 100%;
    height: 4rem;

    transition-property: top, transform;
    transition-duration: 0.4s;
    transition-timing-function: ease-in-out;
  }

  @media screen and (min-width: 768px) {
    div.search-input-wrapper {
      display: none;
    }
  }
</style>

<html lang='en'>
  <CommonHead
    title={title}
    description={description}
  />
  <body data-font='sans-serif'>
    <NavDrawerOverlay />
    <CustomizationMenuOverlay inDrawer={false} />
    <ContactDialog />
    <NavDrawer />
    <NavDrawerToggle />

    <div class='search-input-wrapper'>
      <SearchInput
        inDrawer={false}
        mobileView={true}
      />
    </div>

    <Logo mobileView={true} />
    <Breadcrumb />
    <AppBar />
    <main>
      <slot />
    </main>
    <Footer />
  </body>
</html>

<script src='../scripts/main.ts'></script>
